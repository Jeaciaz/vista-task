{"version":3,"sources":["assets/separator.svg","components/PatientList.js","components/PatientData.js","components/Separator.js","App.js","index.js"],"names":["module","exports","PatientList","props","useState","presentPatients","setPresentPatients","retiredPatients","setRetiredPatients","isDisplayingRetired","setIsDisplayingRetired","useEffect","axios","get","then","res","data","patientList","map","patient","key","historyNumber","className","classNames","selected","selectedPatient","onClick","onPatientSelected","lastName","firstName","patrName","cause","bedNumber","active","length","resetWidth","document","querySelector","style","width","PatientData","date","birthDate","Date","now","getUTCFullYear","diagnosis","alt","img","require","moveSeparator","e","prevSibling","previousSibling","getBoundingClientRect","movementX","startMovement","addEventListener","endMovement","transition","documentElement","userSelect","removeEventListener","Separator","onMouseDown","App","currentPatient","setCurrentPatient","ReactDOM","render","getElementById"],"mappings":"gLAAAA,EAAOC,QAAU,IAA0B,uC,qKCK5B,SAASC,EAAYC,GAAQ,IAAD,EACIC,mBAAS,IADb,mBACnCC,EADmC,KAClBC,EADkB,OAEIF,mBAAS,IAFb,mBAEnCG,EAFmC,KAElBC,EAFkB,OAGYJ,oBAAS,GAHrB,mBAGnCK,EAHmC,KAGdC,EAHc,KAK1CC,qBAAU,WACTC,IAAMC,IAAI,sCAAsCC,MAAK,SAAAC,GACpDT,EAAmBS,EAAIC,SAGxBJ,IAAMC,IAAI,qCAAqCC,MAAK,SAAAC,GACnDP,EAAmBO,EAAIC,WAEtB,IAEH,IAAMC,GAAeR,EAAsBF,EAAkBF,GAAiBa,KAAI,SAAAC,GAAO,OACxF,wBAAIC,IAAKD,EAAQE,cAAeC,UAAWC,IAAW,2BAA4B,CAACC,SAAUrB,EAAMsB,iBAAmBtB,EAAMsB,gBAAgBJ,gBAAkBF,EAAQE,gBAAiBK,QAAS,kBAAMvB,EAAMwB,kBAAkBR,KAC7N,4BAAKA,EAAQE,eACb,4BAAKF,EAAQS,SAAb,IAAwBT,EAAQU,UAAhC,IAA4CV,EAAQW,UACpD,4BAAKrB,EAAsBU,EAAQY,MAAQZ,EAAQa,eAIrD,OACC,6BAASV,UAAU,iBAClB,yBAAKA,UAAU,sBACd,4BAAQA,UAAWC,IAAW,0BAA2B,CAACU,QAASxB,IAAuBiB,QAAS,kBAAMhB,GAAuB,KAAhI,4EACeL,EAAgB6B,OAAS,GAAzB,WAAkC7B,EAAgB6B,OAAlD,MAEf,4BAAQZ,UAAWC,IAAW,0BAA2B,CAACU,OAAQxB,IAAuBiB,QAAS,kBAAMhB,GAAuB,KAA/H,oDACWH,EAAgB2B,OAAS,GAAzB,WAAkC3B,EAAgB2B,OAAlD,OAGZ,2BAAOZ,UAAU,wBAChB,2BAAOA,UAAU,6BAChB,4BACC,mDACA,kDACA,4BAAMb,EAAsB,wFAAoB,0CAGlD,+BACGQ,K,MCvCP,SAASkB,IACRC,SAASC,cAAc,iBAAiBC,MAAMC,MAAQ,MAGxC,SAASC,EAAYrC,GACnC,OACC,6BAASmB,UAAU,eAAegB,MAAO,CAACC,MAAO,QAChD,4BAAQjB,UAAU,wBACjB,oJACA,4BAAQA,UAAU,6BAA6BI,QAASS,GAAxD,MAED,wBAAIb,UAAU,sBACb,mDAAS,0BAAMA,UAAU,uBAAuBnB,EAAMgB,QAAN,UAAmBhB,EAAMgB,QAAQS,SAAjC,YAA6CzB,EAAMgB,QAAQU,UAA3D,YAAwE1B,EAAMgB,QAAQW,UAAa,QACnJ,2EAAa,0BAAMR,UAAU,uBAAuBnB,EAAMgB,SAlB7BsB,EAkB+DtC,EAAMgB,QAAQuB,UAhBrG,IAAIC,KAAKA,KAAKC,MAAQ,IAAID,KAAKF,IAAQI,iBAAmB,MAgBwD,QACvH,2EAAa,0BAAMvB,UAAU,uBAAuBnB,EAAMgB,QAAUhB,EAAMgB,QAAQ2B,UAAY,SAE/F,yBACCC,IAAI,GACJC,IAAKC,EAAQ,OAvBjB,IAAiCR,E,MCAjC,SAASS,EAAcC,GACtB,IAAMC,EAAchB,SAASC,cAAc,iBAAiBgB,gBAC5DD,EAAYd,MAAMC,MAASa,EAAYE,wBAAwBf,MAAQY,EAAEI,UAAa,KAGvF,SAASC,IACRpB,SAASqB,iBAAiB,YAAaP,GACvCd,SAASqB,iBAAiB,UAAWC,GAIrCtB,SAASC,cAAc,iBAAiBgB,gBAAgBf,MAAMqB,WAAa,WAC3EvB,SAASwB,gBAAgBtB,MAAMuB,WAAa,OAG7C,SAASH,IACRtB,SAAS0B,oBAAoB,YAAaZ,GAC1Cd,SAAS0B,oBAAoB,UAAWJ,GAExCtB,SAASC,cAAc,iBAAiBgB,gBAAgBf,MAAMqB,WAAa,GAC3EvB,SAASwB,gBAAgBtB,MAAMuB,WAAa,GAG9B,SAASE,IACvB,OAAO,yBACNzC,UAAU,yBACV0C,YAAaR,GAFP,U,MCTOS,MAZf,WAAgB,IAAD,EAC8B7D,mBAAS,MADvC,mBACP8D,EADO,KACSC,EADT,KAGb,OACE,yBAAK7C,UAAU,OAChB,kBAAC,EAAD,CAAaH,QAAS+C,IACtB,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAazC,gBAAiByC,EAAgBvC,kBAAmBwC,MCTpEC,IAASC,OAAO,kBAAC,EAAD,MAASjC,SAASkC,eAAe,W","file":"static/js/main.1aa51bdf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/separator.5a231add.svg\";","import React, { useState, useEffect } from 'react';\r\nimport classNames from 'classnames';\r\nimport './PatientList.scss'\r\nimport axios from 'axios';\r\n\r\nexport default function PatientList(props) {\r\n\tconst [presentPatients, setPresentPatients] = useState([]);\r\n\tconst [retiredPatients, setRetiredPatients] = useState([]);\r\n\tconst [isDisplayingRetired, setIsDisplayingRetired] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\taxios.get('https://api.myjson.com/bins/1c3a76').then(res => {\r\n\t\t\tsetPresentPatients(res.data);\r\n\t\t});\r\n\r\n\t\taxios.get('https://api.myjson.com/bins/qryqq').then(res => {\r\n\t\t\tsetRetiredPatients(res.data);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst patientList = (isDisplayingRetired ? retiredPatients : presentPatients).map(patient => (\r\n\t\t<tr key={patient.historyNumber} className={classNames('patients-list__table-row', {selected: props.selectedPatient && props.selectedPatient.historyNumber === patient.historyNumber})} onClick={() => props.onPatientSelected(patient)}>\r\n\t\t\t<td>{patient.historyNumber}</td>\r\n\t\t\t<td>{patient.lastName} {patient.firstName} {patient.patrName}</td>\r\n\t\t\t<td>{isDisplayingRetired ? patient.cause : patient.bedNumber}</td>\r\n\t\t</tr>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<section className=\"patients-list\">\r\n\t\t\t<nav className=\"patients-list__nav\">\r\n\t\t\t\t<button className={classNames('patients-list__nav-link', {active: !isDisplayingRetired})} onClick={() => setIsDisplayingRetired(false)}>\r\n\t\t\t\t\tПрисутствуют {presentPatients.length > 0 && `(${presentPatients.length})`}\r\n\t\t\t\t</button>\r\n\t\t\t\t<button className={classNames('patients-list__nav-link', {active: isDisplayingRetired})} onClick={() => setIsDisplayingRetired(true)}>\r\n\t\t\t\t\tВыбывшие {retiredPatients.length > 0 && `(${retiredPatients.length})`}\r\n\t\t\t\t</button>\r\n\t\t\t</nav>\r\n\t\t\t<table className=\"patients-list__table\">\r\n\t\t\t\t<thead className=\"patients-list__table-head\">\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>№ ИБ</th>\r\n\t\t\t\t\t\t<th>ФИО</th>\r\n\t\t\t\t\t\t<th>{ isDisplayingRetired ? 'Причина выбытия' : 'Палата' }</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{ patientList }\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</section>\r\n\t)\r\n}\r\n","import React from 'react';\r\nimport './PatientData.scss';\r\n\r\nfunction getYearsPassedSinceDate(date) {\r\n\t// Because JS starts dates from year 1970\r\n\treturn (new Date(Date.now() - new Date(date))).getUTCFullYear() - 1970;\r\n}\r\n\r\nfunction resetWidth() {\r\n\tdocument.querySelector('.patient-data').style.width = '0px';\r\n}\r\n\r\nexport default function PatientData(props) {\r\n\treturn (\r\n\t\t<section className=\"patient-data\" style={{width: '50%'}}>\r\n\t\t\t<header className=\"patient-data__header\">\r\n\t\t\t\t<h2>Информация о пациенте</h2>\r\n\t\t\t\t<button className=\"patient-data__btn-collapse\" onClick={resetWidth}>&lt;</button>\r\n\t\t\t</header>\r\n\t\t\t<ul className=\"patient-data__list\">\r\n\t\t\t\t<li>ФИО: <span className=\"patient-data__field\">{props.patient ? `${props.patient.lastName} ${props.patient.firstName} ${props.patient.patrName}` : '___'}</span></li>\r\n\t\t\t\t<li>Возраст: <span className=\"patient-data__field\">{props.patient ? getYearsPassedSinceDate(props.patient.birthDate) : '___'}</span></li>\r\n\t\t\t\t<li>Диагноз: <span className=\"patient-data__field\">{props.patient ? props.patient.diagnosis : '___'}</span></li>\r\n\t\t\t</ul>\r\n\t\t\t<img \r\n\t\t\t\talt=\"\"\r\n\t\t\t\timg={require('../assets/separator.svg')}\r\n\t\t\t/>\r\n\t\t</section>\r\n\t)\r\n}\r\n","import React from 'react';\r\nimport './Separator.scss';\r\n\r\nfunction moveSeparator(e) {\r\n\tconst prevSibling = document.querySelector('.js-separator').previousSibling;\r\n\tprevSibling.style.width = (prevSibling.getBoundingClientRect().width + e.movementX) + 'px';\r\n}\r\n\r\nfunction startMovement() {\r\n\tdocument.addEventListener('mousemove', moveSeparator);\r\n\tdocument.addEventListener('mouseup', endMovement);\r\n\r\n\t// Doing this because width transitions mess up movement\r\n\t// Also disabling select because ux\r\n\tdocument.querySelector('.js-separator').previousSibling.style.transition = 'width 0s';\r\n\tdocument.documentElement.style.userSelect = 'none';\r\n}\r\n\r\nfunction endMovement() {\r\n\tdocument.removeEventListener('mousemove', moveSeparator);\r\n\tdocument.removeEventListener('mouseup', endMovement);\r\n\t\r\n\tdocument.querySelector('.js-separator').previousSibling.style.transition = '';\r\n\tdocument.documentElement.style.userSelect = '';\r\n}\r\n\r\nexport default function Separator() {\r\n\treturn <div \r\n\t\tclassName=\"separator js-separator\" \r\n\t\tonMouseDown={startMovement}\r\n\t>⋮</div>\r\n}\r\n","import React, { useState } from 'react';\nimport PatientList from './components/PatientList';\nimport PatientData from './components/PatientData';\nimport Separator from './components/Separator';\nimport './App.scss';\n\nfunction App() {\n\tconst [currentPatient, setCurrentPatient] = useState(null);\n\t\n  return (\n    <div className=\"App\">\n\t\t\t<PatientData patient={currentPatient} />\n\t\t\t<Separator />\n\t\t\t<PatientList selectedPatient={currentPatient} onPatientSelected={setCurrentPatient} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}